<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1,user-scalable=no,telephone=no"><title>SET Gamedev Canvas</title><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><style>canvas{width:200px;height:120px;border:1px solid #000;border-radius:6px;margin:2px 2px auto}.active{border:2px solid #000}.box{width:100%;text-align:center}.box canvas{width:29%;height:120%;padding-bottom:.7%}</style></head><body><div class="box"><button onclick="addCanvas(3)">+++3</button><br></div></body><script>var setCard;function clearCanvas(t){var e=document.getElementById(t);e.getContext("2d").clearRect(0,0,e.width,e.height),e.setAttribute("shape",""),$("#"+t).removeClass("active")}function addCanvas(t){var e=$("canvas").length;if(18<=e)return alert("那麼多還找不到，太蠢了吧!!!\n hahaha~~~~"),!1;for(var a=e;a<e+t;a++){var o=document.createElement("canvas"),n="card"+a;o.setAttribute("id",n),$("div.box").append(o),(a+1)%3==0&&$("div.box").append("<br>"),setRandomShape(n)}}function getRandom(){return Math.floor(Math.random()*setCard.length)}function setRandomShape(t){var e=getRandom(),a=setCard[e];setCard.remove(e);var o=document.getElementById(t);o.setAttribute("shape",a),draw(o.getContext("2d"),(a=a.split(""))[1],a[0],a[2],a[3])}function draw(t,e,a,o,n){var r;if(1==e?r=[125]:2==e?r=[80,170]:3==e&&(r=[50,125,200]),"R"==o){var i="#ff3c3c";t.strokeStyle=i,t.fillStyle=i}else if("G"==o){i="#14a510";t.strokeStyle=i,t.fillStyle=i}else if("P"==o){i="#5f00b1";t.strokeStyle=i,t.fillStyle=i}"B"==n&&(t.fillStyle="white"),t.beginPath(),t.lineWidth=4;for(var l=0;l<r.length;l++)"D"==a?ctx_D(t,r[l]):"C"==a?ctx_C(t,r[l]):"W"==a&&ctx_W(t,r[l]);if(t.stroke(),"H"==n){t.beginPath(),t.lineWidth=1;for(l=0;l<r.length;l++)"D"==a?ctx_DH(t,r[l]):"C"==a?ctx_CH(t,r[l]):"W"==a&&ctx_WH(t,r[l]);t.stroke()}"B"==n||"H"==n||"F"==n&&t.fill()}function ctx_D(t,e){t.moveTo(e,75),t.lineTo(e+25,25),t.lineTo(e+50,75),t.lineTo(e+25,125),t.lineTo(e,75)}function ctx_DH(t,e){for(var a=0;a<17;a++){var o=0,n=0,r=35+5*a;n=a<8?(o=e+20-2.5*a)+5*(a+2):(o=e-20+2.5*a)+5*(18-a),t.moveTo(o,r),t.lineTo(n,r)}}function ctx_C(t,e){t.moveTo(e,50),t.lineTo(e,100),t.arcTo(e,125,e+25,125,25),t.arcTo(e+50,125,e+50,100,25),t.lineTo(e+50,50),t.arcTo(e+50,25,e+25,25,25),t.arcTo(e,25,e,50,25)}function ctx_CH(t,e){for(var a=0;a<2;a++)t.moveTo(e+5*(2-a),30+5*a),t.lineTo(e+50-5*(2-a),30+5*a);for(a=0;a<15;a++)t.moveTo(e,40+5*a),t.lineTo(e+50,40+5*a);for(a=0;a<2;a++)t.moveTo(e+5*(a+1),115+5*a),t.lineTo(e+50-5*(a+1),115+5*a)}function ctx_W(t,e){t.moveTo(e,25),t.quadraticCurveTo(e+48,22,e+48,50),t.quadraticCurveTo(e+44,63,e+38,80),t.quadraticCurveTo(e+26,100,e+48,120),t.quadraticCurveTo(e-17,120,e+3,80),t.quadraticCurveTo(e+13,60,e+13,50),t.quadraticCurveTo(e+18,30,e-5,22)}function ctx_WH(t,e){for(var a=0;a<18;a++)a<3?(t.moveTo(e+5*(a+1),30+5*a),t.lineTo(e+30+5*(a+1),30+5*a)):a<5?(t.moveTo(e+3*(a+1),30+5*a),t.lineTo(e+30+4*(a+1),30+5*a)):a<9?(t.moveTo(e+3*(10-a),30+5*a),t.lineTo(e+44,30+5*a)):a<10?(t.moveTo(e+3*(10-a),30+5*a),t.lineTo(e+42,30+5*a)):15<a?(t.moveTo(e+5*(a-15),30+5*a),t.lineTo(e+42,30+5*a)):(t.moveTo(e,30+5*a),t.lineTo(e+35,30+5*a))}Array.prototype.remove=function(t){if(isNaN(t)||t>this.length)return!1;for(var e=0,a=0;e<this.length;e++)this[e]!=this[t]&&(this[a++]=this[e]);this.length-=1},$(document).ready(function(){setCard=["C1RB","C1RH","C1RF","C1GB","C1GH","C1GF","C1PB","C1PH","C1PF","C2RB","C2RH","C2RF","C2GB","C2GH","C2GF","C2PB","C2PH","C2PF","C3RB","C3RH","C3RF","C3GB","C3GH","C3GF","C3PB","C3PH","C3PF","D1RB","D1RH","D1RF","D1GB","D1GH","D1GF","D1PB","D1PH","D1PF","D2RB","D2RH","D2RF","D2GB","D2GH","D2GF","D2PB","D2PH","D2PF","D3RB","D3RH","D3RF","D3GB","D3GH","D3GF","D3PB","D3PH","D3PF","W1RB","W1RH","W1RF","W1GB","W1GH","W1GF","W1PB","W1PH","W1PF","W2RB","W2RH","W2RF","W2GB","W2GH","W2GF","W2PB","W2PH","W2PF","W3RB","W3RH","W3RF","W3GB","W3GH","W3GF","W3PB","W3PH","W3PF"],addCanvas(12),$("div.box").on("click","canvas",function(){if($(this).hasClass("active")?$(this).removeClass("active"):$("canvas.active").length<3&&$(this).addClass("active"),3==$("canvas.active").length){var t=$("canvas.active")[0],e=$("canvas.active")[1],a=$("canvas.active")[2],o=t.getAttribute("shape").split(""),n=e.getAttribute("shape").split(""),r=a.getAttribute("shape").split(""),i=[o[0],n[0],r[0]],l=[o[1],n[1],r[1]],c=[o[2],n[2],r[2]],v=[o[3],n[3],r[3]];i.sort(),l.sort(),c.sort(),v.sort();var s=Array.from(new Set(i)).join(""),C=Array.from(new Set(l)).join(""),d=Array.from(new Set(c)).join(""),h=Array.from(new Set(v)).join("");console.log(s+"@"+C+"@"+d+"@"+h),1!=s.length&&"CDW"!=s||1!=C.length&&"123"!=C||1!=d.length&&"GPR"!=d||1!=h.length&&"BFH"!=h||(clearCanvas(t.getAttribute("id")),clearCanvas(e.getAttribute("id")),clearCanvas(a.getAttribute("id")),addCanvas(3))}})})</script></html>
